{"ast":null,"code":"// utils/tokenUtils.js\nimport axios from \"axios\";\nexport const refreshToken = async () => {\n  try {\n    await axios.post(\"http://localhost:3000/auth/refresh-token\", {}, {\n      withCredentials: true\n    });\n    const newExp = Date.now() / 1000 + 3600; // 1 hour\n    localStorage.setItem(\"exp\", newExp.toString());\n  } catch (err) {\n    console.error(\"Refresh token failed\", err);\n    localStorage.clear();\n    window.location.href = \"/login\";\n  }\n};","map":{"version":3,"names":["axios","refreshToken","post","withCredentials","newExp","Date","now","localStorage","setItem","toString","err","console","error","clear","window","location","href"],"sources":["D:/Final Year/ADVANCED SERVER SIDE/cw1/Project/Frontend/cw1_f/src/utils/token.js"],"sourcesContent":["// utils/tokenUtils.js\r\nimport axios from \"axios\";\r\n\r\nexport const refreshToken = async () => {\r\n  try {\r\n    await axios.post(\"http://localhost:3000/auth/refresh-token\", {}, { withCredentials: true });\r\n    const newExp = Date.now() / 1000 + 3600; // 1 hour\r\n    localStorage.setItem(\"exp\", newExp.toString());\r\n  } catch (err) {\r\n    console.error(\"Refresh token failed\", err);\r\n    localStorage.clear();\r\n    window.location.href = \"/login\";\r\n  }\r\n};\r\n"],"mappings":"AAAA;AACA,OAAOA,KAAK,MAAM,OAAO;AAEzB,OAAO,MAAMC,YAAY,GAAG,MAAAA,CAAA,KAAY;EACtC,IAAI;IACF,MAAMD,KAAK,CAACE,IAAI,CAAC,0CAA0C,EAAE,CAAC,CAAC,EAAE;MAAEC,eAAe,EAAE;IAAK,CAAC,CAAC;IAC3F,MAAMC,MAAM,GAAGC,IAAI,CAACC,GAAG,CAAC,CAAC,GAAG,IAAI,GAAG,IAAI,CAAC,CAAC;IACzCC,YAAY,CAACC,OAAO,CAAC,KAAK,EAAEJ,MAAM,CAACK,QAAQ,CAAC,CAAC,CAAC;EAChD,CAAC,CAAC,OAAOC,GAAG,EAAE;IACZC,OAAO,CAACC,KAAK,CAAC,sBAAsB,EAAEF,GAAG,CAAC;IAC1CH,YAAY,CAACM,KAAK,CAAC,CAAC;IACpBC,MAAM,CAACC,QAAQ,CAACC,IAAI,GAAG,QAAQ;EACjC;AACF,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}